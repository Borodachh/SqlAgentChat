# AI SQL Chat Bot

## –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞
–í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —á–∞—Ç-–±–æ—Ç–∞ —Å AI –∞–≥–µ–Ω—Ç–æ–º –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–º —è–∑—ã–∫–µ –≤ SQL –∑–∞–ø—Ä–æ—Å—ã –∏ —ç–∫—Å–ø–æ—Ä—Ç–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ Excel —Ñ–∞–π–ª—ã.

## –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
–î–∞—Ç–∞: 18 –Ω–æ—è–±—Ä—è 2025
- ‚úÖ Frontend: –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–æ–∑–¥–∞–Ω—ã —Å –¥–∏–∑–∞–π–Ω–æ–º —Å–æ–≥–ª–∞—Å–Ω–æ design_guidelines.md
- ‚úÖ Backend: API endpoints, SQLite –±–∞–∑–∞, OpenAI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- üîÑ Integration: –í –ø—Ä–æ—Ü–µ—Å—Å–µ

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
1. **–ß–∞—Ç-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**
   - –î–≤—É—Ö–∫–æ–ª–æ–Ω–æ—á–Ω—ã–π layout (—á–∞—Ç —Å–ª–µ–≤–∞, —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–ø—Ä–∞–≤–∞)
   - –ò—Å—Ç–æ—Ä–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π —Å –æ—Ç–º–µ—Ç–∫–∞–º–∏ –≤—Ä–µ–º–µ–Ω–∏
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–æ–ª–µ–π: user, assistant
   - Empty state —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
   - Loading states –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –∑–∞–ø—Ä–æ—Å–æ–≤

2. **AI –∞–≥–µ–Ω—Ç –Ω–∞ –±–∞–∑–µ OpenAI**
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç GPT-5 —á–µ—Ä–µ–∑ Replit AI Integrations
   - –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –≤ SQL –∑–∞–ø—Ä–æ—Å—ã
   - –û–±—ä—è—Å–Ω–µ–Ω–∏–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ —Ä—É—Å—Å–∫–æ–º
   - Retry –ª–æ–≥–∏–∫–∞ —Å exponential backoff

3. **SQLite –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**
   - –¢–∞–±–ª–∏—Ü–∞ employees (8 –∑–∞–ø–∏—Å–µ–π)
   - –¢–∞–±–ª–∏—Ü–∞ products (8 –∑–∞–ø–∏—Å–µ–π)
   - –¢–∞–±–ª–∏—Ü–∞ sales (8 –∑–∞–ø–∏—Å–µ–π)
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å –ø—Ä–∏–º–µ—Ä–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

4. **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏ —ç–∫—Å–ø–æ—Ä—Ç**
   - –¢–∞–±–ª–∏—Ü–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Å sticky header
   - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ SQL –∑–∞–ø—Ä–æ—Å–∞ –≤ monospace —à—Ä–∏—Ñ—Ç–µ
   - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫, –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
   - –≠–∫—Å–ø–æ—Ä—Ç –≤ Excel (.xlsx) —Å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º

### API Endpoints
- `POST /api/chat` - –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è, –≥–µ–Ω–µ—Ä–∞—Ü–∏—è SQL, –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞
- `POST /api/export` - —Å–æ–∑–¥–∞–Ω–∏–µ Excel —Ñ–∞–π–ª–∞ –∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- `GET /exports/:filename` - —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### Frontend Stack
- React 18 —Å TypeScript
- Wouter –¥–ª—è —Ä–æ—É—Ç–∏–Ω–≥–∞
- TanStack Query –¥–ª—è state management
- Shadcn UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- Tailwind CSS –¥–ª—è —Å—Ç–∏–ª–µ–π
- –®—Ä–∏—Ñ—Ç—ã: Inter (–æ—Å–Ω–æ–≤–Ω–æ–π), JetBrains Mono (–∫–æ–¥)

### Backend Stack
- Express.js
- Better-SQLite3 –¥–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- OpenAI SDK —Å Replit AI Integrations
- ExcelJS –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ Excel —Ñ–∞–π–ª–æ–≤
- p-retry –¥–ª—è retry –ª–æ–≥–∏–∫–∏

### –§–∞–π–ª–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
```
client/src/
  components/
    ChatPanel.tsx - –ø–∞–Ω–µ–ª—å —á–∞—Ç–∞
    MessageBubble.tsx - —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —á–∞—Ç–µ
    ChatInput.tsx - –ø–æ–ª–µ –≤–≤–æ–¥–∞
    ResultsPanel.tsx - –ø–∞–Ω–µ–ª—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
    ResultsTable.tsx - —Ç–∞–±–ª–∏—Ü–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
    EmptyState.tsx - –ø—É—Å—Ç–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
    SQLQueryDisplay.tsx - –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ SQL
  pages/
    home.tsx - –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞

server/
  database.ts - SQLite –±–∞–∑–∞ –∏ —Å—Ö–µ–º–∞
  openai-service.ts - OpenAI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
  routes.ts - API endpoints
  storage.ts - in-memory storage –¥–ª—è —Å–µ—Å—Å–∏–∏

shared/
  schema.ts - –æ–±—â–∏–µ —Ç–∏–ø—ã –∏ Zod —Å—Ö–µ–º—ã
```

## –î–∏–∑–∞–π–Ω

### –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞
- Primary: —Å–∏–Ω–∏–π (#3B82F6) –¥–ª—è –∞–∫—Ü–µ–Ω—Ç–æ–≤
- Background: –±–µ–ª—ã–π/—Ç–µ–º–Ω–æ-—Å–µ—Ä—ã–π –≤ light/dark mode
- Card: —Å–ª–µ–≥–∫–∞ –ø—Ä–∏–ø–æ–¥–Ω—è—Ç—ã–π —Ñ–æ–Ω –¥–ª—è –ø–∞–Ω–µ–ª–µ–π
- Muted: –¥–ª—è –≤—Ç–æ—Ä–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- –°–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: —Å–ø—Ä–∞–≤–∞, —Å–∏–Ω–∏–π —Ñ–æ–Ω
- –°–æ–æ–±—â–µ–Ω–∏—è –±–æ—Ç–∞: —Å–ª–µ–≤–∞, —Å–µ—Ä—ã–π —Ñ–æ–Ω
- SQL –∑–∞–ø—Ä–æ—Å—ã: monospace —à—Ä–∏—Ñ—Ç, –ø–æ–¥—Å–≤–µ—á–µ–Ω–Ω—ã–π —Ñ–æ–Ω
- –¢–∞–±–ª–∏—Ü—ã: hover states, —á–µ—Ç–∫–∏–µ –≥—Ä–∞–Ω–∏—Ü—ã
- –ö–Ω–æ–ø–∫–∏: primary –¥–ª—è –æ—Å–Ω–æ–≤–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π, ghost –¥–ª—è –≤—Ç–æ—Ä–æ—Å—Ç–µ–ø–µ–Ω–Ω—ã—Ö

## –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

### NPM –ø–∞–∫–µ—Ç—ã
- openai - OpenAI SDK
- better-sqlite3 - SQLite –±–∞–∑–∞
- exceljs - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è Excel
- p-limit, p-retry - rate limiting –∏ retries
- + —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ React, TanStack Query, Shadcn UI

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- `AI_INTEGRATIONS_OPENAI_BASE_URL` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ Replit AI Integrations
- `AI_INTEGRATIONS_OPENAI_API_KEY` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ Replit AI Integrations

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏
1. ‚úÖ Phase 1: Schema & Frontend - –∑–∞–≤–µ—Ä—à–µ–Ω–æ
2. ‚úÖ Phase 2: Backend - –∑–∞–≤–µ—Ä—à–µ–Ω–æ
3. üîÑ Phase 3: Integration & Testing - –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ
   - –ó–∞–ø—É—Å—Ç–∏—Ç—å workflow
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –≤—Å–µ—Ö endpoints
   - –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å user journeys
   - –ü–æ–ª—É—á–∏—Ç—å feedback –æ—Ç architect
